<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI4City Lab - Development Runner</title>
    
    <!-- 核心依赖 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.292.0"
        }
    }
    </script>
    <style>
        /* 全局滚动上浮动画 */
        .fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, visibility;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: none;
        }
        /* 图片悬停放大效果 */
        .hover-zoom-img {
            transition: transform 0.5s ease;
        }
        .hover-zoom-container:hover .hover-zoom-img {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-white">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { MapPin, Mail, Linkedin, Twitter, Github, Menu, X, ChevronRight, Calendar, Clock, Video, ArrowRight, Globe, FileText, Database } from 'lucide-react';

        // ==========================================
        // 1. 数据层
        // ==========================================

        const NAV_LINKS = [
          { id: 'home', label: 'News & Events' }, // 点击跳转首页
          { id: 'research', label: 'Research' },
          { id: 'publication', label: 'Publication' },
          { id: 'team', label: 'People' },
          { id: 'resources', label: 'Data & Resources' },
          { id: 'about', label: 'About Us' },
        ];

        // --- 文章详情内容 ---
        const ARTICLE_CONTENT = {
            'seminar': {
                title: "Towards a better understanding of urban datasets",
                subtitle: "Garbage In, Gospel Out?",
                date: "January 1, 2025",
                author: "Dr. Alex Levering",
                img: "https://via.placeholder.com/1000x600/f4f4f4/333?text=Seminar+Poster",
                abstract: "While the quality and availability of predictive modelling methods for urban analyses continue to improve rapidly, our collective understanding of their underlying data remains poor.",
                body: [
                    "This lack of insight hampers the practical implementation of methods and reduces our ability to extract knowledge from urban research efforts.",
                    "Key problems of datasets for predictive modelling include a lack of insight into their veracity, a lack of open-source alternatives, and an insistence on using established dataset paradigms over inventing new ones.",
                    "In this talk Dr. Alex Levering will present and discuss research efforts focused on improving our understanding of data underpinning urban analyses."
                ],
                details: [
                    { text: "Room W1-233, HKUST(GZ)" },
                    { text: "Zoom ID: 910 0372 2057 (PW: ugod)" },
                ]
            },
            'alex-visit': {
                title: "学术交流 | 阿姆斯特丹自由大学Alex Levering教授受邀来访",
                subtitle: "开展为期两周的深度学术交流",
                date: "November 17, 2025",
                author: "AI4City Lab",
                img: "images/news/Alex Levering/640.jfif", 
                body: [
                    "2025年10月13日至26日，应赵吴凡教授邀请，荷兰阿姆斯特丹自由大学（Vrije Universiteit Amsterdam） Alex Levering教授访问我校城市治理与设计学域，开展为期两周的深度学术交流。",
                    "访问期间，Alex Levering教授通过多种形式与学域师生展开互动：他参与了专业课的教学工作，开设了题为“Responsible AI for the GISciences”的课程，并主讲了学术讲座“Garbage In, Gospel Out? Towards a Better Understanding of Urban Datasets”。此外，他还与师生进行了一对一的深入研讨。交流内容涵盖遥感与机器学习的可解释性、尽责人工智能（Responsible AI）、社会文化与景观交互的量化方法、城市数据的理解与运用、遥感变化检测技术、以及树木高度数据集的构建与应用等前沿议题，激发了师生在城市可持续发展、智能遥感与人地系统交叉研究等方向上的广泛讨论与深入思考，为学域的教学与科研注入了新的活力。",
                    { type: 'image', src: 'images/news/Alex Levering/P2.jfif', caption: 'Alex Levering教授作为Guest Lecturer主讲UGOD专业课程' },
                    { type: 'image', src: 'images/news/Alex Levering/P3.jfif', caption: 'Alex Levering教授与学域师生交流合影' },
                    { type: 'image', src: 'images/news/Alex Levering/P4.jfif', caption: 'Alex Levering教授与AI4DCity课题组学生交流' },
                    { type: 'image', src: 'images/news/Alex Levering/P5.jfif', caption: 'Alex Levering教授与赵吴凡教授合影留念' },
                    "Alex Levering博士现任阿姆斯特丹自由大学环境科学研究所（IVM）助理教授。同时，他还是UNIGIS Amsterdam项目负责人和香港科技大学（广州）城市治理与设计学域兼职助理教授。他的主要研究领域为社会文化与景观互动的建模、制图与分析。他专注于城市宜居性和景观质量研究，尤其是人类感知、深度学习方法应用、以及数据集的公平性、可扩展性与多样性等方面。",
                    "个人主页：https://research.vu.nl/en/persons/alex-levering/"
                
                    ]
            },
            'ulsr-gs': {
                title: "科研成果 | ULSR-GS：基于 Gaussian Splatting 的城市级大尺度表面重建",
                subtitle: "高效可扩展的城市级曲面重建方案",
                date: "November 10, 2025",
                author: "Xiaozhuo Li, Wufan Zhao et al.",
                img: "https://via.placeholder.com/1000x600/808080/ffffff?text=ULSR-GS+Architecture",
                abstract: "本研究提出的ULSR-GS架构通过点到影像分区和多视几何一致性约束，实现了高效可扩展的城市级曲面重建。",
                body: [
                    "该成果为大规模数字孪生与三维城市建模提供了一种通用且高精度的解决方案。",
                    "通过引入高斯溅射技术，大幅提升渲染速度的同时保留了高频细节。"
                ],
            }
        };

        // --- 首页数据 ---
        // 新闻 (6个格子)
        const NEWS_ITEMS = [
            { id: 103, title: ARTICLE_CONTENT['alex-visit'].title, desc: ARTICLE_CONTENT['alex-visit'].subtitle, meta: ARTICLE_CONTENT['alex-visit'].date, img: "images/news/Alex Levering/640.jfif", articleId: 'alex-visit' },
            { id: 102, title: ARTICLE_CONTENT['ulsr-gs'].title, desc: ARTICLE_CONTENT['ulsr-gs'].subtitle, meta: ARTICLE_CONTENT['ulsr-gs'].date, img: "https://via.placeholder.com/300/e9c46a/333?text=News+2", articleId: 'ulsr-gs' },
            { id: 101, title: "UGOD Summer AI Symposium", desc: "Join us at the UGOD Summer AI Symposium.", meta: "July 9 2025 | HKUST(GZ)", img: "https://via.placeholder.com/300/264653/fff?text=Symposium" },
        ];

        // 首页展示的资源 (6个格子)
        const HOME_RESOURCES_ITEMS = [
            { id: 'r1', title: "Point Cloud & Model" },
            { id: 'r2', title: "Remote Sensing" },
            { id: 'r3', title: "Project File" },
            { id: 'r4', title: "Computility" },
            { id: 'r5', title: "Hardware" },
            { id: 'r6', title: "Software" },
        ];

        // --- 团队数据 ---
        const TEAM_DATA = {
          pi: {
            name: "Wufan Zhao",
            role: "Principal Investigator",
            bio: "Dr. Wufan Zhao is currently an Assistant Professor at the Urban Governance and Design (UGOD) Thrust, The Hong Kong University of Science and Technology (Guangzhou). He is the Principal Investigator (PI) of AI4DCity Lab. His research primarily focuses on AI-based remote sensing image understanding, 3D city modeling, and multi-modal spatiotemporal data fusion.",
            img: "https://via.placeholder.com/300x300/1a1a1a/ffffff?text=Wufan+Zhao"
          },
          phd: [
            { name: "Xiaozhuo Li", role: "Large Scale 3D Reconstruction", email: "xl@ust.hk", homepage: "https://example.com/xl", img: "https://via.placeholder.com/200/ddd/333?text=XL" },
            { name: "Tongyan Hua", role: "3D Vision", email: "th@ust.hk", homepage: "#", img: "https://via.placeholder.com/200/ddd/333?text=TH" },
            { name: "Shuai Zhang", role: "Multimodal Basic Models", email: "sz@ust.hk", homepage: "#", img: "https://via.placeholder.com/200/ddd/333?text=SZ" },
            { name: "Goodchild", role: "GIS Technology", email: "good@geog.ucsb.edu", homepage: "#", img: "https://via.placeholder.com/200/ddd/333?text=GC" },
          ]
        };
        // --- 列表页数据 ---
        const RESEARCH_PROJECTS = [
          {
            id: 1, title: "Semantic Understanding of Multi-modal Remote Sensing Data",
            desc: "We cordially invite esteemed researchers and scholars to submit high-quality manuscripts. Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
            img: "https://via.placeholder.com/380x253/222/fff?text=Remote+Sensing", date: "Updated Nov 17 2025"
          },
          {
            id: 2, title: "Urban-scale surface reconstruction based on Gaussian Splatting",
            desc: "Focusing on efficient 3D city modeling using emerging Gaussian Splatting techniques to reconstruct urban surfaces with high fidelity.",
            img: "https://via.placeholder.com/380x253/E3A886/fff?text=3D+GS", date: "Updated Oct 10 2025"
          },
          {
            id: 3, title: "Spatiotemporal Data Mining for Smart City Traffic Flow",
            desc: "Analyzing traffic patterns using graph neural networks to predict congestion and optimize traffic light timings in real-time.",
            img: "https://via.placeholder.com/380x253/444/fff?text=Traffic+AI", date: "Updated Sep 05 2025"
          },
          {
            id: 4, title: "Spatiotemporal Data Mining for Smart City Traffic Flow",
            desc: "Analyzing traffic patterns using graph neural networks to predict congestion and optimize traffic light timings in real-time.",
            img: "https://via.placeholder.com/380x253/444/fff?text=Traffic+AI", date: "Updated Sep 05 2025"
          }
        ];

        const PUBLICATION_ITEMS = [
            {
                id: 1, title: "AI for Urban Resilience",
                desc: "Published in Nature Cities. This paper discusses the impact of AI on urban resilience planning and disaster response mechanisms.",
                img: "https://via.placeholder.com/380x253/333/fff?text=Paper+1", date: "2025"
            },
            {
                id: 2, title: "CVPR 2025 Oral Presentation",
                desc: "Our latest work on large-scale 3D reconstruction was selected for an oral presentation at CVPR 2025.",
                img: "https://via.placeholder.com/380x253/444/fff?text=Conf+Paper", date: "2025"
            },
            {
                id: 3, title: "Multimodal Fusion in Remote Sensing",
                desc: "A comprehensive review of recent advances in multimodal data fusion for earth observation.",
                img: "https://via.placeholder.com/380x253/555/fff?text=Review", date: "2024"
            }
        ];

        const RESOURCES_LIST_ITEMS = [
            {
                id: 1, title: "Dataset: HK Urban Point Cloud",
                desc: "A large-scale point cloud dataset for Hong Kong urban areas, suitable for semantic segmentation tasks. Available for academic use.",
                img: "https://via.placeholder.com/380x253/555/fff?text=Dataset", date: "v1.0 Release"
            },
            {
                id: 2, title: "Tool: CityGML Parser",
                desc: "An open-source Python tool for parsing and processing CityGML files efficiently. Supports LoD2 and LoD3 models.",
                img: "https://via.placeholder.com/380x253/666/fff?text=Tool", date: "v2.3"
            },
            {
                id: 3, title: "Model: Urban Traffic Prediction",
                desc: "Pre-trained weights for our GNN-based traffic prediction model, trained on 5 years of Shenzhen traffic data.",
                img: "https://via.placeholder.com/380x253/777/fff?text=Model", date: "v1.1"
            }
        ];

        

        // ==========================================
        // 2. 工具组件：滚动显示动画
        // ==========================================
        const FadeInSection = ({ children, className = "" }) => {
            const [isVisible, setVisible] = useState(false);
            const domRef = useRef();

            useEffect(() => {
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => setVisible(entry.isIntersecting));
                });
                if (domRef.current) observer.observe(domRef.current);
                return () => {
                    if (domRef.current) observer.unobserve(domRef.current);
                };
            }, []);

            return (
                <div
                    className={`fade-in-section ${isVisible ? 'is-visible' : ''} ${className}`}
                    ref={domRef}
                >
                    {children}
                </div>
            );
        };

        // ==========================================
        // 3. UI 组件
        // ==========================================
        //导航栏
        const Navbar = ({ currentPage, setPage, scrollToAbout }) => {
          const [isScrolled, setIsScrolled] = useState(false);

          useEffect(() => {
            const handleScroll = () => setIsScrolled(window.scrollY > 50);
            window.addEventListener('scroll', handleScroll);
            return () => window.removeEventListener('scroll', handleScroll);
          }, []);

          const isHome = currentPage === 'home';
          const navClass = `fixed top-0 left-0 w-full z-50 transition-all duration-300 border-b ${
            isHome && !isScrolled 
              ? 'bg-transparent border-transparent text-white' 
              : 'bg-white border-gray-200 text-black shadow-sm'
          }`;

          const handleNavClick = (id) => {
              if (id === 'about') {
                  scrollToAbout();
              } else {
                  setPage(id);
              }
          };

          return (
            <nav className={navClass}>
              <div className="max-w-7xl mx-auto px-6 w-full h-[81px] flex justify-between items-center">{/*导航栏容器*/}
                <div
                  className="w-[60px] h-[60px] bg-cover bg-center rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition"
                  style={{ backgroundImage: "url('images/frontPage/logo.png')" }}
                  onClick={() => setPage('home')}
                  title="Home"
                >
                  
                </div>


                <ul className="hidden lg:flex gap-8"> {/*导航栏动效*/}
                  {NAV_LINKS.map(link => (
                    <li key={link.id}>
                      <button 
                        onClick={() => handleNavClick(link.id)}
                        className={`text-lg font-medium hover:opacity-70 capitalize ${
                          currentPage === link.id && !isHome ? 'text-blue-600 font-bold' : ''
                        }`}
                      >
                        {link.label}
                      </button>
                    </li>
                  ))}
                </ul>

                <div className="w-[120px] h-[60px] bg-cover bg-center rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition"
                  style={{ backgroundImage: "url('images/frontPage/logo-e-black-2x.png')" }}
                >
                </div>
                <Menu className="lg:hidden cursor-pointer" />
              </div>
            </nav>
          );
        };
        
       //页脚设置与容器
        const Footer = ({ setPage, scrollToAbout }) => {
            const handleNavClick = (id) => {
                if (id === 'about') {
                    scrollToAbout();
                } else {
                    setPage(id);
                }
            };

            {/*页脚容器*/}
            return (
              <footer className="bg-white border-t border-gray-200 pt-16 pb-20 mt-auto">
                <div className="max-w-7xl mx-auto px-6 w-full flex flex-col md:flex-row gap-12 md:gap-32">
                  <div className="flex flex-col gap-2 min-w-[130px]">
                    <h4 className="font-semibold text-lg mb-2">Features</h4>
                    {NAV_LINKS.map(link => (
                      <button 
                        key={link.id} 
                        onClick={() => handleNavClick(link.id)}
                        className="text-left text-gray-500 hover:text-black transition"
                      >
                        {link.label}
                      </button>
                    ))}
                  </div>
                  <div className="flex flex-col gap-8 flex-1">
                    <div>
                      <h3 className="font-semibold text-2xl mb-2">Ai4DCity</h3>
                      <p className="text-gray-500">Pioneering AI-based processing strategies for sustainable urban development.</p>
                    </div>
                    <div className="flex gap-4">
                      <div className="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-white hover:bg-blue-600 cursor-pointer transition"><Twitter size={16}/></div>
                      <div className="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-white hover:bg-blue-700 cursor-pointer transition"><Linkedin size={16}/></div>
                      <div className="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-white hover:bg-gray-800 cursor-pointer transition"><Github size={16}/></div>
                    </div>
                  </div>
                </div>
              </footer>
            );
        };

        // 1. 主页 (Home Page)
        // 这里是最顶端的大图hero页
        
        const HomePage = ({ setPage, aboutRef }) => (
          <div className="w-full">
            {/* Hero Section */}
            <div className="relative w-full h-[600px] md:h-[80vh] bg-gray-900 text-white flex justify-center">
              <div className="absolute inset-0 bg-[url('images/frontPage/large.jpg')] bg-cover bg-center opacity-60"></div> {/* <-这一行的链接是大图图片路径 */}
              <div className="absolute bottom-16 md:bottom-24 w-full max-w-7xl mx-auto z-10">
                <div className="px-6"> 
                    <h1 className="text-5xl sm:text-6xl md:text-[100px] font-bold leading-tight mb-6 drop-shadow-lg">AI4CITY LAB</h1>
                </div>
                <div className="cursor-pointer transition group px-6" onClick={() => setPage('article', 'seminar')}> 
                    <h2 className="text-xl sm:text-2xl font-bold mb-2 text-white transition">Upcoming Seminar</h2>
                    <p className="text-base sm:text-xl font-medium text-white">Towards a better understanding of urban datasets</p>
                    <div className="flex items-center gap-4 mt-3 text-xs sm:text-sm text-gray-200">
                        <span className="flex items-center gap-1"><Calendar size={14} className="text-white"/> Oct 17, 2025</span>
                        <span className="flex items-center gap-1"><Clock size={14} className="text-white"/> 10:30 - 11:20</span>
                    </div>
                </div>
              </div>
            </div>

            <div className="max-w-7xl mx-auto px-6 py-12 md:py-16 space-y-56"> {/* 这一级是hero大图下面所有子模块的父容器 */}

              {/* 这是News的容器 */}
              <FadeInSection className="flex flex-col md:flex-row gap-8 lg:gap-12">
                <div className="w-full md:w-1/4">
                   <h2 className="text-4xl sm:text-[64px] font-bold leading-none">News <br/>& <br/> Events</h2>
                </div>
                <div className="w-full md:w-3/4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
                   {NEWS_ITEMS.map(item => (
                     <div 
                        key={item.id} 
                        className="flex flex-col gap-3 group cursor-pointer hover-zoom-container" 
                        onClick={() => item.articleId && setPage('article', item.articleId)} 
                     > 
                       <div className="aspect-square w-full bg-gray-200 overflow-hidden rounded-none">
                         <img src={item.img} alt={item.title} className="w-full h-full object-cover hover-zoom-img" />
                       </div>
                       <h3 className="font-bold text-xl leading-tight group-hover:text-blue-600">{item.title}</h3>
                       <p className="text-sm text-gray-600">{item.desc}</p>
                       <p className="text-xs text-gray-400 mt-auto pt-2">{item.meta}</p>
                     </div>
                   ))}
                </div>
              </FadeInSection>

              {/* Research Preview (Homepage) */}
              <FadeInSection>
                 <h2 className="text-4xl sm:text-[64px] font-bold mb-6">Research</h2>
                 {RESEARCH_PROJECTS.slice(0,2).map((project, index) => (
                   // 移除 gap, 背景透明/白色 (无底色), 直角
                   <div key={project.id} className={`flex flex-col md:flex-row ${index % 2 !== 0 ? 'md:flex-row-reverse' : ''} gap-0 items-center mb-8 group hover-zoom-container overflow-hidden`}> 
                      <div className="w-full md:w-2/3 aspect-[3/2] md:h-[350px] bg-gray-200 overflow-hidden rounded-none">
                         <img src={project.img} className="w-full h-full object-cover hover-zoom-img" alt={project.title} />
                      </div>
                      {/* 文字区域无背景色 bg-white/transparent */}
                      <div className="w-full md:w-1/3 p-6 flex flex-col justify-center">
                         <h3 className="text-2xl font-bold mb-4">{project.title}</h3>
                         <p className="text-gray-600 mb-6 text-justify">{project.desc}</p>
                         <button onClick={() => setPage('research')} className="text-blue-600 font-bold hover:underline flex items-center">Read More <ChevronRight size={16}/> </button>
                      </div>
                   </div>
                 ))}
              </FadeInSection>

              {/* 主页的人员页 */}
              <FadeInSection>
                {/* 移除 gap, 背景透明/白色, 直角 */}
                <div className="flex flex-col md:flex-row gap-0 h-auto overflow-hidden rounded-none">
                  <h2 className="text-4xl sm:text-[64px] font-bold leading-none text-left">People</h2>
                  <div className="p-6 md:w-1/3 flex flex-col justify-center text-left">
                    <p className="text-base lg:text-lg text-gray-600 mb-8 text-justify">
                      Our team is a diverse and talented group of researchers from around the world, committed to advancing cutting-edge research in AI-driven urban modeling.
                    </p>
                    <button onClick={() => setPage('team')} className="text-xl font-bold hover:underline flex items-center gap-2 text-left">
                      Meet our team <ArrowRight size={20} />
                    </button>
                  </div>
                  <div className="md:w-2/3 aspect-[3/2] md:aspect-auto md:h-[500px] bg-gray-300 relative overflow-hidden hover-zoom-container">
                    <img src="images/people/group.jpg" className="absolute inset-0 w-full h-full object-cover hover-zoom-img" alt="Team" />
                  </div>
                </div>
              </FadeInSection>

              {/* 主页的数据页 */}
              <FadeInSection className="flex flex-col md:flex-row gap-8 lg:gap-12">
                <div className="w-full md:w-1/4">
                   <h2 className="text-4xl sm:text-[64px] font-bold leading-none">Resource <br/>& <br/>Data</h2>
                   <button onClick={() => setPage('resources')} className="mt-6 text-lg font-bold hover:underline flex items-center gap-2">
                        Find something good <ChevronRight size={16}/>
                   </button>
                </div>
                <div className="w-full md:w-3/4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
                   {HOME_RESOURCES_ITEMS.map(item => (
                     <div key={item.id} className="flex flex-col gap-3 group cursor-pointer hover-zoom-container" onClick={() => setPage('resources')}> 
                       <div className="aspect-square w-full bg-gray-200 overflow-hidden rounded-none">
                         <div className="w-full h-full bg-gray-300 flex items-center justify-center hover-zoom-img text-gray-500 text-center p-4">{item.title}</div>
                       </div>
                       <h3 className="font-bold text-xl leading-tight group-hover:text-blue-600">{item.title}</h3>
                     </div>
                   ))}
                </div>
              </FadeInSection>

              {/* 主页的关于我们页 */}
              <FadeInSection>
                  <div id="about-section" ref={aboutRef} className="pt-12">
                      <div className="max-w-4xl mx-auto text-center mb-8 px-6">
                          <h2 className="text-4xl sm:text-5xl font-bold mb-6">About Us</h2>
                          <h3 className="text-2xl font-semibold mb-4">AI 4D City(AI4CITY) Lab</h3>
                          <p className="text-lg text-gray-600 leading-relaxed text-justify">
                              4D refers to 3D space plus time series modeling. As the type and density of the remote sensing data continue to grow exponentially, Dr. Wufan Zhao and his AI4City Lab aim to help pioneer computationally efficient AI-based processing and modeling strategies to solve complex and practical urban problems by integrating the multi-dimensional/modal characteristics of big earth observation data.
                          </p>
                      </div>
                      {/* 修复: 图片容器宽度与文字一致 max-w-4xl，居中，直角 */}
                      <div className="w-full max-w-4xl mx-auto aspect-video bg-gray-100 overflow-hidden shadow-sm mb-12 rounded-none">
                          <img src="https://via.placeholder.com/1200x600/ddd/333?text=Lab+Research+Diagram" className="w-full h-full object-cover" alt="Research Diagram" />
                      </div>
                  </div>
              </FadeInSection>

            </div>
          </div>
        );

        // 2. 团队页面 (Team Page)
        const TeamPage = () => {
            return (
                <div className="pt-[81px] w-full min-h-screen">
                    <div className="max-w-7xl mx-auto px-6 py-16">
                        <h1 className="text-4xl md:text-5xl font-bold mb-12 md:mb-16">Meet our team</h1>
                        
                        {/* PI Section: 保持扁平设计，无圆角 */}
                        <div className="bg-slate-100 p-8 md:p-12 flex flex-col md:flex-row gap-8 md:gap-16 items-center mb-20 rounded-none">
                            <div className="w-48 h-48 md:w-64 md:h-64 flex-shrink-0">
                                <img src={TEAM_DATA.pi.image} alt={TEAM_DATA.pi.name} className="w-full h-full rounded-full object-cover shadow-none" />
                            </div>
                            <div className="flex-1">
                                <h2 className="text-3xl md:text-4xl font-bold mb-1">{TEAM_DATA.pi.name}</h2>
                                <p className="text-lg md:text-xl text-gray-500 mb-6">{TEAM_DATA.pi.role}</p>
                                <p className="text-sm md:text-base text-gray-700 leading-relaxed text-justify">{TEAM_DATA.pi.bio}</p>
                            </div>
                        </div>

                        <div className="mb-16">
                            <h2 className="text-2xl md:text-3xl font-bold mb-8 pl-2 border-l-4 border-black">PhD Students</h2>
                            {/* 修复：恢复卡片设计 (White box, border, padding, shadow, rounded-xl) */}
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                {TEAM_DATA.phd.map((member, idx) => (
                                    <FadeInSection key={idx} className="bg-white border border-gray-200 rounded-xl p-6 flex flex-col items-center text-center hover:shadow-xl transition duration-300 transform hover:-translate-y-1">
                                        <img src={member.img} alt={member.name} className="w-32 h-32 rounded-full object-cover mb-4 bg-gray-100" />
                                        {/* 姓名作为链接接口 */}
                                        <a href={member.homepage} className="font-bold text-lg mb-1 hover:text-blue-600 transition" target="_blank">
                                            {member.name}
                                        </a>
                                        <p className="text-xs font-medium text-gray-500 uppercase tracking-wide mb-3 min-h-[32px]">{member.role}</p>
                                        <a href={`mailto:${member.email}`} className="text-xs text-blue-500 flex items-center gap-1 hover:underline"><Mail size={12}/> {member.email}</a>
                                    </FadeInSection>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 3. 通用列表组件 (Generic List Page) - 适用于 Research, Publication, Resources
        // 注意：列表页保持圆角卡片风格 (rounded-2xl)
        const ListPage = ({ title, description, items, type = "default" }) => {
            return (
                <div className="pt-[81px] w-full min-h-screen">
                     <div className="max-w-7xl mx-auto px-6 py-16">
                        <h1 className="text-4xl md:text-6xl font-bold mb-8">{title}</h1>
                        <p className="text-gray-500 mb-16">{description}</p>
                        
                        <div className="flex flex-col gap-8">
                            {items.map((item) => (
                                <FadeInSection key={item.id} className="bg-white border border-gray-200 rounded-2xl p-6 md:p-8 flex flex-col md:flex-row gap-6 md:gap-8 hover:shadow-xl transition-shadow duration-300">
                                    <div className="flex-1 flex flex-col justify-center order-2 md:order-1">
                                        <h2 className="text-xl md:text-2xl font-bold mb-4">{item.title}</h2>
                                        <p className="text-sm md:text-base text-gray-600 mb-4 leading-relaxed text-justify">{item.desc}</p>
                                        <div className="mt-auto pt-4 border-t border-gray-100 text-sm text-gray-400">
                                            {item.date}
                                        </div>
                                    </div>
                                    {/* 列表页保持圆角 */}
                                    <div className="w-full md:w-1/3 aspect-video md:h-[250px] flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden order-1 md:order-2">
                                        {type === 'resources' ? (
                                             <div className="w-full h-full flex items-center justify-center bg-slate-100 text-slate-400">
                                                <Database size={48} />
                                             </div>
                                        ) : (
                                             <img src={item.img} alt={item.title} className="w-full h-full object-cover hover:scale-105 transition duration-500" />
                                        )}
                                    </div>
                                </FadeInSection>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 独立页面包装器
        const ResearchPage = () => (
            <ListPage 
                title="Research Projects" 
                description="Our latest findings and publications in AI & Urban Science."
                items={RESEARCH_PROJECTS} 
            />
        );

        const PublicationPage = () => (
            <ListPage 
                title="Publications" 
                description="Selected conference papers and journal articles."
                items={PUBLICATION_ITEMS} 
            />
        );

        const ResourcesPage = () => (
            <ListPage 
                title="Data & Resources" 
                description="Open source datasets, tools, and project files available for download."
                items={RESOURCES_LIST_ITEMS}
                type="resources"
            />
        );

        // 4. 新闻，数据，研究，出版等的post的详情页样式
        const ArticlePage = ({ articleId }) => {
            const content = ARTICLE_CONTENT[articleId] || ARTICLE_CONTENT['seminar'];

            return (
                <div className="pt-[81px] w-full min-h-screen">
                    <div className="max-w-4xl mx-auto px-6 py-16 md:py-20 flex flex-col items-center">
                        <h1 className="text-3xl md:text-5xl font-bold text-center mb-6 leading-tight">{content.title}</h1>
                        <div className="text-gray-500 mb-12 text-sm md:text-base">{content.date} • By {content.author}</div>
                        
                        <div className="w-full aspect-video bg-gray-100 shadow-sm mb-16 rounded-2xl overflow-hidden">
                            <img src={content.img} className="w-full h-full object-cover" alt={content.title} />
                        </div>

                        <div className="w-full">

                           c
                            
                            {content.details && content.details.length > 0 && (
                                <div className="mt-12 p-6 bg-blue-50 border border-blue-100 rounded-xl">
                                    <h3 className="font-bold text-blue-900 mb-4 text-xl"></h3>
                                    <ul className="space-y-3 text-blue-800">
                                        {content.details.map((detail, index) => (
                                          <li key={index} className="flex gap-3 items-start">
                                              <span>{detail.text}</span>  {/* 只渲染文本 */}
                                          </li>
                                      ))}
                                    </ul>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // ==========================================
        // 5. 主程序 (App)
        // ==========================================

        function App() {
          const [currentPage, setCurrentPage] = useState('home');
          const [articleId, setArticleId] = useState('seminar');
          const aboutRef = useRef(null);

          useEffect(() => {
            window.scrollTo(0, 0);
          }, [currentPage]);

          const scrollToAbout = () => {
              if (currentPage !== 'home') {
                  setCurrentPage('home');
                  setTimeout(() => {
                      aboutRef.current?.scrollIntoView({ behavior: 'smooth' });
                  }, 100);
              } else {
                  aboutRef.current?.scrollIntoView({ behavior: 'smooth' });
              }
          };
          
          const handleSetPage = (pageId, newArticleId) => {
             if (pageId === 'article' && newArticleId) {
                setArticleId(newArticleId);
             }
             setCurrentPage(pageId);
          };

          const renderPage = () => {
            switch(currentPage) {
              case 'home': return <HomePage setPage={handleSetPage} aboutRef={aboutRef} />;
              case 'team': return <TeamPage />;
              case 'research': return <ResearchPage />;
              case 'publication': return <PublicationPage />;
              case 'resources': return <ResourcesPage />;
              case 'article': return <ArticlePage articleId={articleId} />;
              default: return <div className="pt-32 text-center min-h-[50vh]">Page Under Construction</div>;
            }
          };

          return (
            <div className="font-sans text-black min-h-screen flex flex-col bg-white">
              <Navbar currentPage={currentPage} setPage={handleSetPage} scrollToAbout={scrollToAbout} />
              <main className="flex-grow">
                {renderPage()}
              </main>
              <Footer setPage={handleSetPage} scrollToAbout={scrollToAbout} />
            </div>
          );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>